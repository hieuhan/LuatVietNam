@using VanBanLuat.Librarys
@{
    Layout = "~/Views/Shared/_Layout.cshtml";
}
@model VanBanLuat.Models.AccountModel.ChangePasswordModel
<div class="breadcrumb" style="margin-bottom: 20px;">
    <a class="breadcrumb-item" href="@Constants.ROOT_PATH" title="Trang chủ">Trang chủ</a> /
    <span class="breadcrumb-item xanh">Đổi mật khẩu</span>
</div>
<!-- Bengin ttcn-nav-->
<div class="ttcn-nav">
    <div class="item-user1 font13">
        <p>Tên tài khoản</p>
        <p style="color: #0089d0; font-weight: bold;">@VbLuatUser.CustomerName</p>
    </div>
    <div class="item-user2">
        <ul>
            <li class="list-taikhoan icontk1"><a href="@(Constants.ROOT_PATH)user/thong-tin-tai-khoan.html" class="itemtk">Thông tin tài khoản</a></li>
            <li class="list-taikhoan icontk2"><a href="@(Constants.ROOT_PATH)user/van-ban-cua-toi.html" class="itemtk">Văn bản của tôi</a></li>
            <li class="list-taikhoan icontk6"><a href="@(Constants.ROOT_PATH)user/doi-mat-khau.html" class="itemtk">Đổi mật khẩu</a></li>
        </ul>
    </div>
</div>
<!-- End ttcn-nav-->
<!-- Bengin ttcn-content-->
<div class="ttcn-content">
    <div class="title-ttcn">
        <h1 class="title-ttcn-post"><img class="m-hiden" src="@Url.Content("~/assets/images/mk9.png")" />Đổi mật khẩu</h1>
    </div>
    <div class="content-dk">
        <div class="p20px">
            @if (!VbLuatUser.OpenId)
            {
                using (Ajax.BeginForm("ChangePassword", "Account", null, new AjaxOptions
                {
                    HttpMethod = "Post",
                    OnBegin = "vbluat.ajaxEvents.OnBegin('Đổi mật khẩu')",
                    OnSuccess = "vbluat.ajaxEvents.OnSuccessAlert(data, status, xhr)",
                    OnFailure = "vbluat.ajaxEvents.OnFailure"
                }))
                {
                    <div class="w300">
                        <div class="form-group">
                            @Html.TextBoxFor(m => m.CurrentPassword, new {@class = "input-text ms1 font14", type = "password", placeholder = "Mật khẩu cũ *"})
                            @Html.ValidationMessageFor(m => m.CurrentPassword, "", new {@class = "text-danger"})
                        </div>
                        <div class="form-group">
                            @Html.TextBoxFor(m => m.Password, new {@class = "input-text ms1 font14", type = "password", placeholder = "Mật khẩu mới *"})
                            @Html.ValidationMessageFor(m => m.Password, "", new {@class = "text-danger"})
                        </div>
                        <div class="form-group">
                            @Html.TextBoxFor(m => m.ConfirmPassword, new {@class = "input-text ms1 font14", type = "password", placeholder = "Nhập lại mật khẩu mới *"})
                            @Html.ValidationMessageFor(m => m.ConfirmPassword, "", new {@class = "text-danger"})
                        </div>
                        <div class="rows-dk">
                            <center class="form-group">
                                <button class="btn-form btn-default guingay">Đổi mật khẩu</button>
                            </center>
                        </div>
                    </div>
                }
            }
            else
            {
                <div class="item-user1 font13">
                    <p style="color: #0089d0; font-weight: bold;">Quý khách đang đăng nhập bằng tài khoản Gmail/Facebook. Chức năng đổi mật khẩu không được hỗ trợ.</p>
                </div>
            }
        </div>
    </div>
</div>
